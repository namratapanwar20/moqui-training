<?xml version="1.0" encoding="UTF-8"?>
<entities xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:noNamespaceSchemaLocation="http://moqui.org/xsd/entity-definition-2.1.xsd">

    <entity entity-name="User" package="org.moqui">
        <field name="userId" type="id" is-pk="true"/>
        <field name="userName" type="text-medium"/>
        <field name="trainingId" type="id"/>
    </entity>

    <entity entity-name="Training" package="org.moqui" short-alias="training" >
        <field name="trainingId" type="id" is-pk="true"/>
        <field name="trainingName" type="text-medium"/>
        <field name="trainingDate" type="date"  />
        <field name="trainingPrice" type="currency-amount"/>
        <field name="trainingDuration" type="number-integer"/>

       <relationship type="many" related="org.moqui.User" short-alias="UserMembers">
           <key-map field-name="trainingId"/></relationship>
    </entity>

    <view-entity entity-name="TrainViewUser" package="org.moqui">
        <member-entity entity-alias="TTR" entity-name="org.moqui.Training"/>
        <member-relationship entity-alias="TUR" join-from-alias="TTR" relationship="UserMembers"/>
        <alias entity-alias="TUR" name="userId"/>
        <alias entity-alias="TUR" name="userName"/>
        <alias entity-alias="TTR" name="trainingId"/>
        <alias entity-alias="TTR" name="trainingName"/>
    </view-entity>
</entities>
